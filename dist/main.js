!function(e){var n={};function r(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,r),c.l=!0,c.exports}r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var c in e)r.d(t,c,function(n){return e[n]}.bind(null,c));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/moduls/basket.js\nfunction basket() {\r\n\r\n    const btnBasket = document.querySelector('.basket');\r\n    const basketCont = document.querySelector('.basket_container');\r\n    const btnClose = document.querySelector('.btn_close');\r\n    const container = document.querySelector('.basket_container');\r\n\r\n    btnBasket.addEventListener('click', () => {\r\n        basketCont.style.display = 'block';\r\n        document.body.style.overflow = 'hidden';\r\n        container.style.display = 'flex';\r\n    });\r\n    btnClose.addEventListener('click', () => {\r\n        basketCont.style.display = '';\r\n        document.body.style.overflow = '';\r\n    });\r\n};\r\n\n// CONCATENATED MODULE: ./src/moduls/search.js\nfunction search() {\r\n    const searchInput = document.querySelector('.search_input');\r\n    const cardAllDoc = document.querySelectorAll('.right_side .card');\r\n    const searchText = new RegExp(searchInput.value.trim(), 'i');\r\n\r\n    cardAllDoc.forEach((elem) => {\r\n        const title = elem.querySelector('.card-title');\r\n        if (!searchText.test(title.textContent)) {\r\n            elem.style.display = 'none';\r\n        } else {\r\n            elem.style.display = '';\r\n        }\r\n    });\r\n};\n// CONCATENATED MODULE: ./src/moduls/commonModules.js\nconst items = [];\r\nconst basketWraperDoc = document.querySelector('.basket_wraper');\r\nconst commonModules_checkbox = document.querySelector('.stock .check');\r\nconst minInput = document.querySelector('.min_inp');\r\nconst maxInput = document.querySelector('.max_inp');\n// CONCATENATED MODULE: ./src/moduls/value.js\n\r\n\r\nfunction value() {\r\n    const cardAllDoc = document.querySelectorAll('.right_side .card');\r\n    const activeLi = document.querySelector('.catalog_list li.active');\r\n    \r\n    let min = minInput.value ? minInput.value : 0;\r\n    let max = maxInput.value ? maxInput.value : 999999;\r\n\r\n    cardAllDoc.forEach((elem) => {\r\n        const checkbox = document.querySelector('.stock .check');\r\n        const sale = elem.querySelector('.sale');\r\n        const price = elem.querySelector('.card-price');\r\n        const res = parseFloat(price.textContent);\r\n\r\n        elem.style.display = \"\";\r\n\r\n        if ((res < min) || (res > max)) {\r\n            elem.style.display = \"none\";\r\n        } else if (checkbox.checked && !sale) {\r\n            elem.style.display = \"none\";\r\n        } else if (activeLi){\r\n            if(elem.dataset.category !== activeLi.textContent){\r\n            elem.style.display = \"none\";\r\n            };  \r\n        };\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import * as commonModules from \"./commonModules.js\";\r\n// let visible = commonModules.visible;\r\n// let checkbox = commonModules.checkbox;\r\n\r\n// export default function test(minValue, maxValue) {\r\n//     const card = document.querySelectorAll('.box');\r\n\r\n//     let min = minValue ? minValue : 0;\r\n//     let max = maxValue ? maxValue : 999999;\r\n\r\n//     card.forEach((elem) => {\r\n//         const price = elem.querySelector('.card-price');\r\n//         const res = parseFloat(price.textContent);\r\n//         visible (elem, checkPrice(min, max, res)) && (elem, checkSale(elem));\r\n//     });\r\n\r\n//     function checkSale(elem) {\r\n//         const sale = elem.querySelector('.sale');\r\n//          console.log('hi');\r\n//         if (checkbox.checked && !sale) {\r\n//             return false; // добавляется hidden\r\n//         } else {\r\n//             return true;\r\n//         };\r\n//     };\r\n\r\n//     function checkPrice(min, max, res) {\r\n//         if ((res < min) || (res > max)) {\r\n//             return false;\r\n//         } else {\r\n//             return true;\r\n//         };\r\n//     };\r\n// };\r\n\r\n\r\n\n// CONCATENATED MODULE: ./src/moduls/filterBtn.js\n\r\n\r\n\r\n\r\nfunction filterBtn() {\r\n    const checkbox = document.querySelector('.stock .check');\r\n    const searcBtn = document.querySelector('.btn_search');\r\n\r\n    checkbox.addEventListener('click', value);\r\n    searcBtn.addEventListener('click', search);\r\n    minInput.onchange = () => value();\r\n    maxInput.onchange = () => value();\r\n};\r\n\r\n\n// CONCATENATED MODULE: ./src/moduls/counter.js\n\r\n\r\nfunction count() {\r\n    const cardAllDoc = basketWraperDoc.querySelectorAll('.card');\r\n    const counter = document.querySelector('.counter');\r\n    counter.textContent = cardAllDoc.length;\r\n\r\n    const basketPrice = document.querySelector('.basket_price span');\r\n    const price = basketWraperDoc.querySelectorAll('.card-price');\r\n    const wraperText = document.querySelector('.wraper_text');\r\n\r\n    let sum = 0;\r\n\r\n    price.forEach((price) => {\r\n        const res = parseFloat(price.textContent);\r\n        sum += res;\r\n    });\r\n    basketPrice.textContent = sum;\r\n\r\n    if (cardAllDoc.length !== 0) {\r\n        wraperText.style.display = 'none';\r\n    } else {\r\n        wraperText.style.display = '';\r\n    };\r\n};\n// CONCATENATED MODULE: ./src/moduls/addRemoveItems.js\n\r\n\r\n\r\nfunction addRemoveItems() {\r\n    \r\n    const cardAllDoc = document.querySelectorAll('.right_side .card');\r\n\r\n    cardAllDoc.forEach((elem) => {\r\n        const btn = elem.querySelector('.btn');\r\n\r\n        btn.addEventListener('click', () => {\r\n            const cardClone = elem.cloneNode(true);\r\n            cardClone.style.width = \"25%\";\r\n            basketWraperDoc.appendChild(cardClone);\r\n            count();\r\n\r\n            const removeBtn = cardClone.querySelector('.btn');\r\n            removeBtn.textContent = 'Удалить из корзины';\r\n            removeBtn.addEventListener('click', () => {\r\n                cardClone.remove();\r\n                count();\r\n            });\r\n        });\r\n    });\r\n};\r\n\n// CONCATENATED MODULE: ./src/moduls/getData.js\nfunction getData() {\r\n    const itemWraper = document.querySelector('.right_side');\r\n\r\n    return fetch('../../db/db.json')\r\n        .then((response) => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            } else {\r\n                throw new Error('Данные не были получены, ошибка: ' + response.status);\r\n            }\r\n        })\r\n        .then((data) => {\r\n            return data\r\n        })\r\n        .catch((err) => {\r\n            console.warn(err);\r\n            itemWraper.innerHTML = '<div>Что-то пошло не так..</div>';\r\n        });\r\n}; \n// CONCATENATED MODULE: ./src/moduls/renderData.js\n\r\n\r\nfunction renderData(data) {\r\n\r\n    const itemWraper = document.querySelector('.right_side');\r\n    data.goods.forEach((element, i) => {\r\n        const boxItem = document.createElement('div');\r\n        boxItem.className = 'card';\r\n        boxItem.setAttribute('data-category', element.category);\r\n        boxItem.innerHTML = `\r\n            ${element.sale ? '<div class=\"sale\">Hot Sale</div>' : ''}\r\n            <div class=\"card-img-wrapper\">\r\n                <span class=\"card-img-top \"style=\"background-image: url(${element.img})\"></span>\r\n            </div>\r\n            <div class=\"text-wraper\">\r\n                <div class=\"card-price\">${element.price} руб</div>\r\n                <h5 class=\"card-title\">${element.title}</h5>\r\n                <button class=\"btn\">В корзину</button>\r\n            </div>\r\n        `;\r\n        items[i] = boxItem;\r\n        itemWraper.appendChild(boxItem);\r\n    });\r\n};\r\n\n// CONCATENATED MODULE: ./src/moduls/renderCatalog.js\n\r\n\r\nfunction renderCatalog() {\r\n    const cardAllDoc = document.querySelectorAll('.right_side .card');\r\n    const categories = new Set();\r\n    const catalogList = document.querySelector('.catalog_list');\r\n    const CatalogBTN = document.querySelector('.box_catalog');\r\n    \r\n    cardAllDoc.forEach((elem) => {\r\n        categories.add(elem.dataset.category);\r\n    });\r\n    categories.forEach((item) => {\r\n        const li = document.createElement('li');\r\n        li.innerHTML = item;\r\n        catalogList.appendChild(li);\r\n    });\r\n\r\n    CatalogBTN.addEventListener('click', (event) => {\r\n\r\n        if (event.target.tagName === 'LI') {\r\n\r\n            const allLi = catalogList.querySelectorAll('li');\r\n\r\n            allLi.forEach((elem)=>{\r\n                if(elem === event.target){\r\n                    elem.classList.add('active');\r\n                }else{\r\n                    elem.classList.remove('active');\r\n                }\r\n            });\r\n            value();\r\n        };\r\n    });\r\n};\n// CONCATENATED MODULE: ./src/index.js\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n(async function(){\r\n    const db = await getData();\r\n    renderData(db);\r\n    renderCatalog();\r\n    basket();\r\n    filterBtn();\r\n    addRemoveItems();\r\n}());\n\n//# sourceURL=webpack:///./src/index.js_+_10_modules?")}]);